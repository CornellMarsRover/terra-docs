<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Terra: test_utils.CMRTestFixture Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Terra
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacetest__utils.html">test_utils</a></li><li class="navelem"><a class="el" href="classtest__utils_1_1CMRTestFixture.html">CMRTestFixture</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classtest__utils_1_1CMRTestFixture-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">test_utils.CMRTestFixture Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A base class for CMR node tests that use the same nodes for all tests This class will start the nodes once for all tests in the class To use this, set the <code>nodes</code> class variable to a list of nodes to start.  
 <a href="classtest__utils_1_1CMRTestFixture.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for test_utils.CMRTestFixture:</div>
<div class="dyncontent">
<div class="center"><img src="classtest__utils_1_1CMRTestFixture__inherit__graph.png" border="0" usemap="#atest__utils_8CMRTestFixture_inherit__map" alt="Inheritance graph"/></div>
<map name="atest__utils_8CMRTestFixture_inherit__map" id="atest__utils_8CMRTestFixture_inherit__map">
<area shape="rect" title="A base class for CMR node tests that use the same nodes for all tests This class will start the nodes..." alt="" coords="33,5,205,32"/>
<area shape="rect" href="classdemo__test_1_1TestDemoDependencies.html" title=" " alt="" coords="5,80,233,107"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad08995c267ead9a640fa9d1cba2381dc"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtest__utils_1_1CMRTestFixture.html#ad08995c267ead9a640fa9d1cba2381dc">get_namespace</a> (cls)</td></tr>
<tr class="memdesc:ad08995c267ead9a640fa9d1cba2381dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the namespace of the nodes launcher.  <a href="classtest__utils_1_1CMRTestFixture.html#ad08995c267ead9a640fa9d1cba2381dc">More...</a><br /></td></tr>
<tr class="separator:ad08995c267ead9a640fa9d1cba2381dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78751b6b58890f9a6939b4b608431871"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtest__utils_1_1CMRTestFixture.html#a78751b6b58890f9a6939b4b608431871">setup_class</a> (cls)</td></tr>
<tr class="separator:a78751b6b58890f9a6939b4b608431871"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2af04ae0a953c295c0e1484602cd247e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtest__utils_1_1CMRTestFixture.html#a2af04ae0a953c295c0e1484602cd247e">teardown_class</a> (cls)</td></tr>
<tr class="separator:a2af04ae0a953c295c0e1484602cd247e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a36ca2034180faada9cffdf3a8a1f3b2c"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtest__utils_1_1CMRTestFixture.html#a36ca2034180faada9cffdf3a8a1f3b2c">nodes</a> = []</td></tr>
<tr class="separator:a36ca2034180faada9cffdf3a8a1f3b2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eaf07c764b18541c879d3e93523610c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtest__utils_1_1CMRTestFixture.html#a3eaf07c764b18541c879d3e93523610c">launcher</a> = <a class="el" href="classtest__utils_1_1NodeLauncher.html">NodeLauncher</a>()</td></tr>
<tr class="separator:a3eaf07c764b18541c879d3e93523610c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >A base class for CMR node tests that use the same nodes for all tests This class will start the nodes once for all tests in the class To use this, set the <code>nodes</code> class variable to a list of nodes to start. </p>
<p >Essentially, this wraps <code><a class="el" href="namespacetest__utils.html#a01a5539fc8e2ed149224ed569a5fc01b" title="A decorator that should be used for all CMR node tests The decorated test should take at least a sing...">cmr_node_test()</a></code> around a group of tests and works exactly the same way. See <code><a class="el" href="namespacetest__utils.html#a01a5539fc8e2ed149224ed569a5fc01b" title="A decorator that should be used for all CMR node tests The decorated test should take at least a sing...">cmr_node_test()</a></code> for more details.</p>
<h3><a class="anchor" id="autotoc_md43"></a>
Example:</h3>
<div class="fragment"><div class="line"><span class="comment"># node_config = &quot;... &lt;toml config&gt; ...&quot;</span></div>
<div class="line"><span class="keyword">class </span>TestDemoDependencies(CMRTestFixture):</div>
<div class="line">    CMRTestFixture.nodes = <a class="code hl_function" href="namespacetest__utils.html#a4cf1895f06a28a5315f98439210a457d">config_fabric_nodes</a>(</div>
<div class="line">        node_config.format(<span class="stringliteral">&quot;py_test_demo_1&quot;</span>, <span class="stringliteral">&quot;&quot;</span>),</div>
<div class="line">        node_config.format(<span class="stringliteral">&quot;py_test_demo_2&quot;</span>, <span class="stringliteral">&#39;&quot;py_test_demo_1&quot;&#39;</span>),</div>
<div class="line">    )</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">def </span>test_demo_activation(self):</div>
<div class="line">        node_name = <span class="stringliteral">&quot;py_test_demo_2&quot;</span></div>
<div class="line">        <a class="code hl_function" href="namespacetest__utils.html#ad26e4cf97fa79dbf144da3d645576996">activate_fabric_node</a>(node_name, CMRTestFixture.get_namespace())</div>
<div class="line">        <span class="keyword">assert</span> <a class="code hl_function" href="namespacecmr_1_1fabric.html#aafaf3df989305146c1178f1f21524bf3">get_lifecycle_state</a>(node_name) == <span class="stringliteral">&quot;active&quot;</span></div>
<div class="line">        <span class="keyword">assert</span> <a class="code hl_function" href="namespacecmr_1_1fabric.html#aafaf3df989305146c1178f1f21524bf3">get_lifecycle_state</a>(<span class="stringliteral">&quot;py_test_demo_1&quot;</span>) == <span class="stringliteral">&quot;active&quot;</span></div>
<div class="line"> </div>
<div class="line">    <span class="keyword">def </span>test_depender_deactivate(self):</div>
<div class="line">        <a class="code hl_function" href="namespacetest__utils.html#ad26e4cf97fa79dbf144da3d645576996">activate_fabric_node</a>(<span class="stringliteral">&quot;py_test_demo_2&quot;</span>, CMRTestFixture.get_namespace())</div>
<div class="line">        <a class="code hl_function" href="namespacetest__utils.html#adfa8de5f7c95e6e40b4dc6944fed246d">deactivate_fabric_node</a>(<span class="stringliteral">&quot;py_test_demo_2&quot;</span>, CMRTestFixture.get_namespace())</div>
<div class="line">        <span class="keyword">assert</span> <a class="code hl_function" href="namespacecmr_1_1fabric.html#aafaf3df989305146c1178f1f21524bf3">get_lifecycle_state</a>(<span class="stringliteral">&quot;py_test_demo_2&quot;</span>) == <span class="stringliteral">&quot;inactive&quot;</span></div>
<div class="line">        <span class="keyword">assert</span> <a class="code hl_function" href="namespacecmr_1_1fabric.html#aafaf3df989305146c1178f1f21524bf3">get_lifecycle_state</a>(<span class="stringliteral">&quot;py_test_demo_1&quot;</span>) == <span class="stringliteral">&quot;inactive&quot;</span></div>
<div class="line"> </div>
<div class="line">    <span class="keyword">def </span>test_dependee_deactivate(self):</div>
<div class="line">        <a class="code hl_function" href="namespacetest__utils.html#ad26e4cf97fa79dbf144da3d645576996">activate_fabric_node</a>(<span class="stringliteral">&quot;py_test_demo_2&quot;</span>, CMRTestFixture.get_namespace())</div>
<div class="line">        <a class="code hl_function" href="namespacetest__utils.html#adfa8de5f7c95e6e40b4dc6944fed246d">deactivate_fabric_node</a>(<span class="stringliteral">&quot;py_test_demo_1&quot;</span>, CMRTestFixture.get_namespace())</div>
<div class="line">        <span class="keyword">assert</span> <a class="code hl_function" href="namespacecmr_1_1fabric.html#aafaf3df989305146c1178f1f21524bf3">get_lifecycle_state</a>(<span class="stringliteral">&quot;py_test_demo_2&quot;</span>) == <span class="stringliteral">&quot;inactive&quot;</span></div>
<div class="line">        <span class="keyword">assert</span> <a class="code hl_function" href="namespacecmr_1_1fabric.html#aafaf3df989305146c1178f1f21524bf3">get_lifecycle_state</a>(<span class="stringliteral">&quot;py_test_demo_1&quot;</span>) == <span class="stringliteral">&quot;inactive&quot;</span></div>
<div class="ttc" id="anamespacecmr_1_1fabric_html_aafaf3df989305146c1178f1f21524bf3"><div class="ttname"><a href="namespacecmr_1_1fabric.html#aafaf3df989305146c1178f1f21524bf3">cmr::fabric::get_lifecycle_state</a></div><div class="ttdeci">LifecycleState get_lifecycle_state(const std::string &amp;node_name)</div><div class="ttdoc">Get the LifecycleState of a lifecycle node.</div><div class="ttdef"><b>Definition:</b> lifecycle_helpers.cpp:27</div></div>
<div class="ttc" id="anamespacetest__utils_html_a4cf1895f06a28a5315f98439210a457d"><div class="ttname"><a href="namespacetest__utils.html#a4cf1895f06a28a5315f98439210a457d">test_utils.config_fabric_nodes</a></div><div class="ttdeci">list config_fabric_nodes(*str node_configs)</div><div class="ttdoc">Constructs multiple fabric node launch elements from toml files or toml strings ONLY.</div><div class="ttdef"><b>Definition:</b> test_utils.py:196</div></div>
<div class="ttc" id="anamespacetest__utils_html_ad26e4cf97fa79dbf144da3d645576996"><div class="ttname"><a href="namespacetest__utils.html#ad26e4cf97fa79dbf144da3d645576996">test_utils.activate_fabric_node</a></div><div class="ttdeci">bool activate_fabric_node(str node_name, str namespace)</div><div class="ttdoc">Activates a fabric node via the lifecycle manager.</div><div class="ttdef"><b>Definition:</b> test_utils.py:531</div></div>
<div class="ttc" id="anamespacetest__utils_html_adfa8de5f7c95e6e40b4dc6944fed246d"><div class="ttname"><a href="namespacetest__utils.html#adfa8de5f7c95e6e40b4dc6944fed246d">test_utils.deactivate_fabric_node</a></div><div class="ttdeci">bool deactivate_fabric_node(str node_name, str namespace)</div><div class="ttdoc">Deactivates a fabric node via the lifecycle manager.</div><div class="ttdef"><b>Definition:</b> test_utils.py:544</div></div>
</div><!-- fragment --> </div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ad08995c267ead9a640fa9d1cba2381dc" name="ad08995c267ead9a640fa9d1cba2381dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad08995c267ead9a640fa9d1cba2381dc">&#9670;&nbsp;</a></span>get_namespace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def test_utils.CMRTestFixture.get_namespace </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the namespace of the nodes launcher. </p>

</div>
</div>
<a id="a78751b6b58890f9a6939b4b608431871" name="a78751b6b58890f9a6939b4b608431871"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78751b6b58890f9a6939b4b608431871">&#9670;&nbsp;</a></span>setup_class()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def test_utils.CMRTestFixture.setup_class </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2af04ae0a953c295c0e1484602cd247e" name="a2af04ae0a953c295c0e1484602cd247e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2af04ae0a953c295c0e1484602cd247e">&#9670;&nbsp;</a></span>teardown_class()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def test_utils.CMRTestFixture.teardown_class </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a3eaf07c764b18541c879d3e93523610c" name="a3eaf07c764b18541c879d3e93523610c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3eaf07c764b18541c879d3e93523610c">&#9670;&nbsp;</a></span>launcher</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">test_utils.CMRTestFixture.launcher = <a class="el" href="classtest__utils_1_1NodeLauncher.html">NodeLauncher</a>()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a36ca2034180faada9cffdf3a8a1f3b2c" name="a36ca2034180faada9cffdf3a8a1f3b2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36ca2034180faada9cffdf3a8a1f3b2c">&#9670;&nbsp;</a></span>nodes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">list test_utils.CMRTestFixture.nodes = []</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/cmr_py_test/test/<a class="el" href="test__utils_8py.html">test_utils.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Nov 22 2022 03:30:59 for Terra by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
