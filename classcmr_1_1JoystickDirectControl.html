<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Terra: cmr::JoystickDirectControl Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Terra
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecmr.html">cmr</a></li><li class="navelem"><a class="el" href="classcmr_1_1JoystickDirectControl.html">JoystickDirectControl</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classcmr_1_1JoystickDirectControl-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">cmr::JoystickDirectControl Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classcmr_1_1JoystickDirectControl.html" title="The JoystickDirectControl node is the node called to activate arm control via direct joystick control...">JoystickDirectControl</a> node is the node called to activate arm control via direct joystick control (joystick hardware directly controls joint motor efforts).  
 <a href="classcmr_1_1JoystickDirectControl.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="joystick__direct__control_8hpp_source.html">joystick_direct_control.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for cmr::JoystickDirectControl:</div>
<div class="dyncontent">
<div class="center"><img src="classcmr_1_1JoystickDirectControl__inherit__graph.png" border="0" usemap="#acmr_1_1JoystickDirectControl_inherit__map" alt="Inheritance graph"/></div>
<map name="acmr_1_1JoystickDirectControl_inherit__map" id="acmr_1_1JoystickDirectControl_inherit__map">
<area shape="rect" title="The JoystickDirectControl node is the node called to activate arm control via direct joystick control..." alt="" coords="19,155,192,181"/>
<area shape="rect" href="classcmr_1_1fabric_1_1FabricNode.html" title="The FabricNode is the base class for All CMR nodes." alt="" coords="28,80,183,107"/>
<area shape="rect" title=" " alt="" coords="5,5,205,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for cmr::JoystickDirectControl:</div>
<div class="dyncontent">
<div class="center"><img src="classcmr_1_1JoystickDirectControl__coll__graph.png" border="0" usemap="#acmr_1_1JoystickDirectControl_coll__map" alt="Collaboration graph"/></div>
<map name="acmr_1_1JoystickDirectControl_coll__map" id="acmr_1_1JoystickDirectControl_coll__map">
<area shape="rect" title="The JoystickDirectControl node is the node called to activate arm control via direct joystick control..." alt="" coords="19,155,192,181"/>
<area shape="rect" href="classcmr_1_1fabric_1_1FabricNode.html" title="The FabricNode is the base class for All CMR nodes." alt="" coords="28,80,183,107"/>
<area shape="rect" title=" " alt="" coords="5,5,205,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a800e489fe081ad7cdd0aaab159dc47d4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1JoystickDirectControl.html#a800e489fe081ad7cdd0aaab159dc47d4">JoystickDirectControl</a> (const std::optional&lt; <a class="el" href="structcmr_1_1fabric_1_1FabricNodeConfig.html">cmr::fabric::FabricNodeConfig</a> &gt; &amp;config=std::nullopt)</td></tr>
<tr class="memdesc:a800e489fe081ad7cdd0aaab159dc47d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <code><a class="el" href="classcmr_1_1JoystickDirectControl.html" title="The JoystickDirectControl node is the node called to activate arm control via direct joystick control...">JoystickDirectControl</a></code>, optionally passing in config parameters for testing.  <a href="classcmr_1_1JoystickDirectControl.html#a800e489fe081ad7cdd0aaab159dc47d4">More...</a><br /></td></tr>
<tr class="separator:a800e489fe081ad7cdd0aaab159dc47d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classcmr_1_1fabric_1_1FabricNode"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classcmr_1_1fabric_1_1FabricNode')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classcmr_1_1fabric_1_1FabricNode.html">cmr::fabric::FabricNode</a></td></tr>
<tr class="memitem:aed08c9a27fe21cea828ef3440a48e67c inherit pub_methods_classcmr_1_1fabric_1_1FabricNode"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1fabric_1_1FabricNode.html#aed08c9a27fe21cea828ef3440a48e67c">FabricNode</a> (const std::optional&lt; <a class="el" href="structcmr_1_1fabric_1_1FabricNodeConfig.html">FabricNodeConfig</a> &gt; &amp;config=std::nullopt)</td></tr>
<tr class="separator:aed08c9a27fe21cea828ef3440a48e67c inherit pub_methods_classcmr_1_1fabric_1_1FabricNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa740dc1f6969061fecb33c29909e52e inherit pub_methods_classcmr_1_1fabric_1_1FabricNode"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1fabric_1_1FabricNode.html#afa740dc1f6969061fecb33c29909e52e">FabricNode</a> (std::optional&lt; <a class="el" href="structcmr_1_1fabric_1_1FabricNodeConfig.html">FabricNodeConfig</a> &gt; &amp;&amp;config=std::nullopt)</td></tr>
<tr class="separator:afa740dc1f6969061fecb33c29909e52e inherit pub_methods_classcmr_1_1fabric_1_1FabricNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca7a00d1da781eb20ead53bf0d040596 inherit pub_methods_classcmr_1_1fabric_1_1FabricNode"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1fabric_1_1FabricNode.html#aca7a00d1da781eb20ead53bf0d040596">~FabricNode</a> () override=default</td></tr>
<tr class="separator:aca7a00d1da781eb20ead53bf0d040596 inherit pub_methods_classcmr_1_1fabric_1_1FabricNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fcb742a9fd0e2c8cfdc3319f2156a7d inherit pub_methods_classcmr_1_1fabric_1_1FabricNode"><td class="memItemLeft" align="right" valign="top">rclcpp_lifecycle::LifecycleNode::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1fabric_1_1FabricNode.html#a1fcb742a9fd0e2c8cfdc3319f2156a7d">on_configure</a> (const rclcpp_lifecycle::State &amp;) override</td></tr>
<tr class="separator:a1fcb742a9fd0e2c8cfdc3319f2156a7d inherit pub_methods_classcmr_1_1fabric_1_1FabricNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aead0b7f933cf612407cb012676d062ab inherit pub_methods_classcmr_1_1fabric_1_1FabricNode"><td class="memItemLeft" align="right" valign="top">rclcpp_lifecycle::LifecycleNode::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1fabric_1_1FabricNode.html#aead0b7f933cf612407cb012676d062ab">on_activate</a> (const rclcpp_lifecycle::State &amp;) override</td></tr>
<tr class="separator:aead0b7f933cf612407cb012676d062ab inherit pub_methods_classcmr_1_1fabric_1_1FabricNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab85a1b53692faa4e381477cbe85ba08d inherit pub_methods_classcmr_1_1fabric_1_1FabricNode"><td class="memItemLeft" align="right" valign="top">rclcpp_lifecycle::LifecycleNode::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1fabric_1_1FabricNode.html#ab85a1b53692faa4e381477cbe85ba08d">on_deactivate</a> (const rclcpp_lifecycle::State &amp;) override</td></tr>
<tr class="separator:ab85a1b53692faa4e381477cbe85ba08d inherit pub_methods_classcmr_1_1fabric_1_1FabricNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73d8422fc42516dee49514480d3f125b inherit pub_methods_classcmr_1_1fabric_1_1FabricNode"><td class="memItemLeft" align="right" valign="top">rclcpp_lifecycle::LifecycleNode::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1fabric_1_1FabricNode.html#a73d8422fc42516dee49514480d3f125b">on_cleanup</a> (const rclcpp_lifecycle::State &amp;) override</td></tr>
<tr class="separator:a73d8422fc42516dee49514480d3f125b inherit pub_methods_classcmr_1_1fabric_1_1FabricNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a414babca32c2f114f0b2bebf69429bd2 inherit pub_methods_classcmr_1_1fabric_1_1FabricNode"><td class="memItemLeft" align="right" valign="top">rclcpp_lifecycle::LifecycleNode::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1fabric_1_1FabricNode.html#a414babca32c2f114f0b2bebf69429bd2">on_shutdown</a> (const rclcpp_lifecycle::State &amp;) override</td></tr>
<tr class="separator:a414babca32c2f114f0b2bebf69429bd2 inherit pub_methods_classcmr_1_1fabric_1_1FabricNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1a2b5c5d99a5f18b5afe005cfb89731 inherit pub_methods_classcmr_1_1fabric_1_1FabricNode"><td class="memItemLeft" align="right" valign="top">rclcpp_lifecycle::LifecycleNode::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1fabric_1_1FabricNode.html#ac1a2b5c5d99a5f18b5afe005cfb89731">on_error</a> (const rclcpp_lifecycle::State &amp;) override</td></tr>
<tr class="separator:ac1a2b5c5d99a5f18b5afe005cfb89731 inherit pub_methods_classcmr_1_1fabric_1_1FabricNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a573404fdf79d7d728be6b94807cd20c4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1JoystickDirectControl.html#a573404fdf79d7d728be6b94807cd20c4">configure</a> (const std::shared_ptr&lt; toml::Table &gt; &amp;table) override</td></tr>
<tr class="memdesc:a573404fdf79d7d728be6b94807cd20c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Derived class hook for configuring the node.  <a href="classcmr_1_1JoystickDirectControl.html#a573404fdf79d7d728be6b94807cd20c4">More...</a><br /></td></tr>
<tr class="separator:a573404fdf79d7d728be6b94807cd20c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8f8d6e83fbdfcebc1aa4885ab6304f7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1JoystickDirectControl.html#ac8f8d6e83fbdfcebc1aa4885ab6304f7">activate</a> () override</td></tr>
<tr class="memdesc:ac8f8d6e83fbdfcebc1aa4885ab6304f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Derived class hook for activation.  <a href="classcmr_1_1JoystickDirectControl.html#ac8f8d6e83fbdfcebc1aa4885ab6304f7">More...</a><br /></td></tr>
<tr class="separator:ac8f8d6e83fbdfcebc1aa4885ab6304f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a319a8021d67fe226b368852da6dda2ec"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1JoystickDirectControl.html#a319a8021d67fe226b368852da6dda2ec">deactivate</a> () override</td></tr>
<tr class="memdesc:a319a8021d67fe226b368852da6dda2ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Derived class hook for deactivation.  <a href="classcmr_1_1JoystickDirectControl.html#a319a8021d67fe226b368852da6dda2ec">More...</a><br /></td></tr>
<tr class="separator:a319a8021d67fe226b368852da6dda2ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1e29f0207bdbe81828373cafcd7aba8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1JoystickDirectControl.html#ae1e29f0207bdbe81828373cafcd7aba8">cleanup</a> () override</td></tr>
<tr class="memdesc:ae1e29f0207bdbe81828373cafcd7aba8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Derived class hook for cleanup.  <a href="classcmr_1_1JoystickDirectControl.html#ae1e29f0207bdbe81828373cafcd7aba8">More...</a><br /></td></tr>
<tr class="separator:ae1e29f0207bdbe81828373cafcd7aba8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe12ee7c7c9e2ad38c1842ba934bbfa8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1JoystickDirectControl.html#abe12ee7c7c9e2ad38c1842ba934bbfa8">update_arm_position</a> (const cmr_msgs::msg::JoystickReading &amp;msg)</td></tr>
<tr class="memdesc:abe12ee7c7c9e2ad38c1842ba934bbfa8"><td class="mdescLeft">&#160;</td><td class="mdescRight">update_arm_position is the callback function for when the subscriber receives a message from the joystick hardware.  <a href="classcmr_1_1JoystickDirectControl.html#abe12ee7c7c9e2ad38c1842ba934bbfa8">More...</a><br /></td></tr>
<tr class="separator:abe12ee7c7c9e2ad38c1842ba934bbfa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a8d797e981a52d0f94c521384b5c50ffc"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; rclcpp::Subscription&lt; cmr_msgs::msg::JoystickReading &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1JoystickDirectControl.html#a8d797e981a52d0f94c521384b5c50ffc">m_joystick_sub</a></td></tr>
<tr class="memdesc:a8d797e981a52d0f94c521384b5c50ffc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publishers and subcribers declared here.  <a href="classcmr_1_1JoystickDirectControl.html#a8d797e981a52d0f94c521384b5c50ffc">More...</a><br /></td></tr>
<tr class="separator:a8d797e981a52d0f94c521384b5c50ffc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f65da7bf607de979f0aa6fb978b4e4b"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; rclcpp_lifecycle::LifecyclePublisher&lt; cmr_msgs::msg::ArmJointEffort &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1JoystickDirectControl.html#a3f65da7bf607de979f0aa6fb978b4e4b">m_base_rotate_effort_pub</a></td></tr>
<tr class="separator:a3f65da7bf607de979f0aa6fb978b4e4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab64ad1c51d74a0c77d2eb9f81c0d9e85"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; rclcpp_lifecycle::LifecyclePublisher&lt; cmr_msgs::msg::ArmJointEffort &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1JoystickDirectControl.html#ab64ad1c51d74a0c77d2eb9f81c0d9e85">m_shoulder_effort_pub</a></td></tr>
<tr class="separator:ab64ad1c51d74a0c77d2eb9f81c0d9e85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1682d612aa1a4953fcfc73fd44ae0537"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; rclcpp_lifecycle::LifecyclePublisher&lt; cmr_msgs::msg::ArmJointEffort &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1JoystickDirectControl.html#a1682d612aa1a4953fcfc73fd44ae0537">m_elbow_effort_pub</a></td></tr>
<tr class="separator:a1682d612aa1a4953fcfc73fd44ae0537"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a505ed71bffc9629b4a08147b46011cb8"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; rclcpp_lifecycle::LifecyclePublisher&lt; cmr_msgs::msg::ArmJointEffort &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1JoystickDirectControl.html#a505ed71bffc9629b4a08147b46011cb8">m_second_rotate_effort_pub</a></td></tr>
<tr class="separator:a505ed71bffc9629b4a08147b46011cb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fd333be79ab18731a540a2684fc9104"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; rclcpp_lifecycle::LifecyclePublisher&lt; cmr_msgs::msg::ArmJointEffort &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1JoystickDirectControl.html#a0fd333be79ab18731a540a2684fc9104">m_third_tilt_effort_pub</a></td></tr>
<tr class="separator:a0fd333be79ab18731a540a2684fc9104"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35b88f3f5e9e29fe6817dc65bdd0a8a8"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; rclcpp_lifecycle::LifecyclePublisher&lt; cmr_msgs::msg::ArmJointEffort &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1JoystickDirectControl.html#a35b88f3f5e9e29fe6817dc65bdd0a8a8">m_third_rotate_effort_pub</a></td></tr>
<tr class="separator:a35b88f3f5e9e29fe6817dc65bdd0a8a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcdf63e6615486c933e260df2701df25"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1JoystickDirectControl.html#abcdf63e6615486c933e260df2701df25">m_sensitivity</a></td></tr>
<tr class="separator:abcdf63e6615486c933e260df2701df25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9eb35c3f1f552fce814153654c6139c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1JoystickDirectControl.html#ac9eb35c3f1f552fce814153654c6139c">m_sens_scaler</a></td></tr>
<tr class="separator:ac9eb35c3f1f552fce814153654c6139c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1e8de2f055cf0c269ebb1f3c1b51c39"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1JoystickDirectControl.html#ae1e8de2f055cf0c269ebb1f3c1b51c39">m_is_activated</a></td></tr>
<tr class="separator:ae1e8de2f055cf0c269ebb1f3c1b51c39"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classcmr_1_1fabric_1_1FabricNode"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classcmr_1_1fabric_1_1FabricNode')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classcmr_1_1fabric_1_1FabricNode.html">cmr::fabric::FabricNode</a></td></tr>
<tr class="memitem:a79f1e678292a21ef3d81193928eae896 inherit pro_methods_classcmr_1_1fabric_1_1FabricNode"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1fabric_1_1FabricNode.html#a79f1e678292a21ef3d81193928eae896">error_transition</a> ()</td></tr>
<tr class="memdesc:a79f1e678292a21ef3d81193928eae896 inherit pro_methods_classcmr_1_1fabric_1_1FabricNode"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transitions us to the error state and schedules a restart.  <a href="classcmr_1_1fabric_1_1FabricNode.html#a79f1e678292a21ef3d81193928eae896">More...</a><br /></td></tr>
<tr class="separator:a79f1e678292a21ef3d81193928eae896 inherit pro_methods_classcmr_1_1fabric_1_1FabricNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4db5622ced88e33d4372dd8414ae5be inherit pro_methods_classcmr_1_1fabric_1_1FabricNode"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1fabric_1_1FabricNode.html#ab4db5622ced88e33d4372dd8414ae5be">schedule_restart</a> ()</td></tr>
<tr class="memdesc:ab4db5622ced88e33d4372dd8414ae5be inherit pro_methods_classcmr_1_1fabric_1_1FabricNode"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules a restart by sending a request to the fault handler.  <a href="classcmr_1_1fabric_1_1FabricNode.html#ab4db5622ced88e33d4372dd8414ae5be">More...</a><br /></td></tr>
<tr class="separator:ab4db5622ced88e33d4372dd8414ae5be inherit pro_methods_classcmr_1_1fabric_1_1FabricNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >The <a class="el" href="classcmr_1_1JoystickDirectControl.html" title="The JoystickDirectControl node is the node called to activate arm control via direct joystick control...">JoystickDirectControl</a> node is the node called to activate arm control via direct joystick control (joystick hardware directly controls joint motor efforts). </p>
<p >A subscriber is set up to listen for messages, and a callback function sends messages via one of many publishers to individual joint motors.</p>
<p >The subscriber topic listens for messages of type JoystickReading.msg on topic "/js_input", which contains an int control_id, int axis_id, and float64 magnitude. The control and id numbers affect which motor is being controlled, and the magnitude affects how much.</p>
<p >The publisher topics are set individually to target specific motors. They're named according to the names in the arm URDF. The message type these send out consist of only a float64 effort: the magnitude of effort for the motor to exert. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a800e489fe081ad7cdd0aaab159dc47d4" name="a800e489fe081ad7cdd0aaab159dc47d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a800e489fe081ad7cdd0aaab159dc47d4">&#9670;&nbsp;</a></span>JoystickDirectControl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cmr::JoystickDirectControl::JoystickDirectControl </td>
          <td>(</td>
          <td class="paramtype">const std::optional&lt; <a class="el" href="structcmr_1_1fabric_1_1FabricNodeConfig.html">cmr::fabric::FabricNodeConfig</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>config</em> = <code>std::nullopt</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a <code><a class="el" href="classcmr_1_1JoystickDirectControl.html" title="The JoystickDirectControl node is the node called to activate arm control via direct joystick control...">JoystickDirectControl</a></code>, optionally passing in config parameters for testing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>the configuration struct for starting the node or an empty optional to start the node from a launch file or via ROS </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac8f8d6e83fbdfcebc1aa4885ab6304f7" name="ac8f8d6e83fbdfcebc1aa4885ab6304f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8f8d6e83fbdfcebc1aa4885ab6304f7">&#9670;&nbsp;</a></span>activate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cmr::JoystickDirectControl::activate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Derived class hook for activation. </p>
<blockquote class="doxtable">
<p >&zwj;This method is expected to do any final preparations to start executing. This may include acquiring resources that are only held while the node is actually active, such as access to hardware. Ideally, no preparation that requires significant time (such as lengthy hardware initialisation) should be performed in this callback. </p>
</blockquote>
<p>This method MUST have the strong error guarantee. If it returns false, or an exception is thrown <code><a class="el" href="classcmr_1_1JoystickDirectControl.html#a319a8021d67fe226b368852da6dda2ec" title="Derived class hook for deactivation.">deactivate()</a></code> will NOT be called.</p>
<dl class="section see"><dt>See also</dt><dd><code>FabricNode::deactivate</code> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false otherwise which will cause transition to <code>ErrorProcessing</code> </dd></dl>

<p>Implements <a class="el" href="classcmr_1_1fabric_1_1FabricNode.html#aff5b4793c28f24c4d73bf670027d6286">cmr::fabric::FabricNode</a>.</p>

</div>
</div>
<a id="ae1e29f0207bdbe81828373cafcd7aba8" name="ae1e29f0207bdbe81828373cafcd7aba8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1e29f0207bdbe81828373cafcd7aba8">&#9670;&nbsp;</a></span>cleanup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cmr::JoystickDirectControl::cleanup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Derived class hook for cleanup. </p>
<blockquote class="doxtable">
<p >&zwj;This method is expected to clear all state and return the node to a functionally equivalent state as when first created. If the cleanup cannot be successfully achieved it will transition to <code>ErrorProcessing</code> </p>
</blockquote>
<p>This should essentially undo <code><a class="el" href="classcmr_1_1JoystickDirectControl.html#a573404fdf79d7d728be6b94807cd20c4" title="Derived class hook for configuring the node.">configure()</a></code></p>
<dl class="section return"><dt>Returns</dt><dd>true on success, false otherwise which will cause transition to <code>ErrorProcessing</code> </dd></dl>

<p>Implements <a class="el" href="classcmr_1_1fabric_1_1FabricNode.html#a22f6de1d15628cb116aeb7c13b7a26b3">cmr::fabric::FabricNode</a>.</p>

</div>
</div>
<a id="a573404fdf79d7d728be6b94807cd20c4" name="a573404fdf79d7d728be6b94807cd20c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a573404fdf79d7d728be6b94807cd20c4">&#9670;&nbsp;</a></span>configure()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cmr::JoystickDirectControl::configure </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; toml::Table &gt; &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Derived class hook for configuring the node. </p>
<blockquote class="doxtable">
<p >&zwj;callback will be called to allow the node to load its configuration and conduct any required setup.</p>
<p >The configuration of a node will typically involve those tasks that must be performed once during the nodeâ€™s life time, such as obtaining permanent memory buffers and setting up topic publications/subscriptions that do not change.</p>
<p >The node uses this to set up any resources it must hold throughout its life (irrespective of if it is active or inactive). As examples, such resources may include topic publications and subscriptions, memory that is held continuously, and initialising configuration parameters. </p>
</blockquote>
<dl class="section return"><dt>Returns</dt><dd>true on success, false otherwise which will cause transition to <code>ErrorProcessing</code> </dd></dl>

<p>Implements <a class="el" href="classcmr_1_1fabric_1_1FabricNode.html#a48bff2e55c9f6a9838197ec4dae3f529">cmr::fabric::FabricNode</a>.</p>

</div>
</div>
<a id="a319a8021d67fe226b368852da6dda2ec" name="a319a8021d67fe226b368852da6dda2ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a319a8021d67fe226b368852da6dda2ec">&#9670;&nbsp;</a></span>deactivate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cmr::JoystickDirectControl::deactivate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Derived class hook for deactivation. </p>
<blockquote class="doxtable">
<p >&zwj;This method is expected to do any cleanup to start executing, and should reverse the <code><a class="el" href="classcmr_1_1JoystickDirectControl.html#ac8f8d6e83fbdfcebc1aa4885ab6304f7" title="Derived class hook for activation.">activate()</a></code> changes </p>
</blockquote>
<dl class="section see"><dt>See also</dt><dd><code>FabricNode::activate</code> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false otherwise which will cause transition to <code>ErrorProcessing</code> </dd></dl>

<p>Implements <a class="el" href="classcmr_1_1fabric_1_1FabricNode.html#a18d9dd0458e395d403f3cf48c457e4e1">cmr::fabric::FabricNode</a>.</p>

</div>
</div>
<a id="abe12ee7c7c9e2ad38c1842ba934bbfa8" name="abe12ee7c7c9e2ad38c1842ba934bbfa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe12ee7c7c9e2ad38c1842ba934bbfa8">&#9670;&nbsp;</a></span>update_arm_position()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cmr::JoystickDirectControl::update_arm_position </td>
          <td>(</td>
          <td class="paramtype">const cmr_msgs::msg::JoystickReading &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>update_arm_position is the callback function for when the subscriber receives a message from the joystick hardware. </p>
<p >It handles logic for where to publish what message to (i.e. a certain control, axis, and magnitude number corresponds to a certain effort amount to a certain motor's axis.) </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a3f65da7bf607de979f0aa6fb978b4e4b" name="a3f65da7bf607de979f0aa6fb978b4e4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f65da7bf607de979f0aa6fb978b4e4b">&#9670;&nbsp;</a></span>m_base_rotate_effort_pub</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; rclcpp_lifecycle::LifecyclePublisher&lt;cmr_msgs::msg::ArmJointEffort&gt; &gt; cmr::JoystickDirectControl::m_base_rotate_effort_pub</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1682d612aa1a4953fcfc73fd44ae0537" name="a1682d612aa1a4953fcfc73fd44ae0537"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1682d612aa1a4953fcfc73fd44ae0537">&#9670;&nbsp;</a></span>m_elbow_effort_pub</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; rclcpp_lifecycle::LifecyclePublisher&lt;cmr_msgs::msg::ArmJointEffort&gt; &gt; cmr::JoystickDirectControl::m_elbow_effort_pub</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae1e8de2f055cf0c269ebb1f3c1b51c39" name="ae1e8de2f055cf0c269ebb1f3c1b51c39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1e8de2f055cf0c269ebb1f3c1b51c39">&#9670;&nbsp;</a></span>m_is_activated</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cmr::JoystickDirectControl::m_is_activated</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8d797e981a52d0f94c521384b5c50ffc" name="a8d797e981a52d0f94c521384b5c50ffc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d797e981a52d0f94c521384b5c50ffc">&#9670;&nbsp;</a></span>m_joystick_sub</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;rclcpp::Subscription&lt;cmr_msgs::msg::JoystickReading&gt; &gt; cmr::JoystickDirectControl::m_joystick_sub</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Publishers and subcribers declared here. </p>
<p >One subscriber listens for messages from the joystick hardware, and one publisher for each individual joint motor. </p>

</div>
</div>
<a id="a505ed71bffc9629b4a08147b46011cb8" name="a505ed71bffc9629b4a08147b46011cb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a505ed71bffc9629b4a08147b46011cb8">&#9670;&nbsp;</a></span>m_second_rotate_effort_pub</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; rclcpp_lifecycle::LifecyclePublisher&lt;cmr_msgs::msg::ArmJointEffort&gt; &gt; cmr::JoystickDirectControl::m_second_rotate_effort_pub</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac9eb35c3f1f552fce814153654c6139c" name="ac9eb35c3f1f552fce814153654c6139c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9eb35c3f1f552fce814153654c6139c">&#9670;&nbsp;</a></span>m_sens_scaler</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double cmr::JoystickDirectControl::m_sens_scaler</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="abcdf63e6615486c933e260df2701df25" name="abcdf63e6615486c933e260df2701df25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcdf63e6615486c933e260df2701df25">&#9670;&nbsp;</a></span>m_sensitivity</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double cmr::JoystickDirectControl::m_sensitivity</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab64ad1c51d74a0c77d2eb9f81c0d9e85" name="ab64ad1c51d74a0c77d2eb9f81c0d9e85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab64ad1c51d74a0c77d2eb9f81c0d9e85">&#9670;&nbsp;</a></span>m_shoulder_effort_pub</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; rclcpp_lifecycle::LifecyclePublisher&lt;cmr_msgs::msg::ArmJointEffort&gt; &gt; cmr::JoystickDirectControl::m_shoulder_effort_pub</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a35b88f3f5e9e29fe6817dc65bdd0a8a8" name="a35b88f3f5e9e29fe6817dc65bdd0a8a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35b88f3f5e9e29fe6817dc65bdd0a8a8">&#9670;&nbsp;</a></span>m_third_rotate_effort_pub</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; rclcpp_lifecycle::LifecyclePublisher&lt;cmr_msgs::msg::ArmJointEffort&gt; &gt; cmr::JoystickDirectControl::m_third_rotate_effort_pub</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0fd333be79ab18731a540a2684fc9104" name="a0fd333be79ab18731a540a2684fc9104"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fd333be79ab18731a540a2684fc9104">&#9670;&nbsp;</a></span>m_third_tilt_effort_pub</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; rclcpp_lifecycle::LifecyclePublisher&lt;cmr_msgs::msg::ArmJointEffort&gt; &gt; cmr::JoystickDirectControl::m_third_tilt_effort_pub</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/cmr_arm/include/cmr_arm/<a class="el" href="joystick__direct__control_8hpp_source.html">joystick_direct_control.hpp</a></li>
<li>src/cmr_arm/src/<a class="el" href="joystick__direct__control_8cpp.html">joystick_direct_control.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Nov 9 2022 14:00:31 for Terra by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
